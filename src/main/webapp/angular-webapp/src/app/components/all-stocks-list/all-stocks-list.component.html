
<ul class="list-group">
  <li class="list-group-item active">Stocks</li>
  <div *ngFor="let stock of allStocks.values()">
    <li class="list-group-item">{{stock.symbol}} | {{stock.price}} | {{stock.dailyChangePercents}}

      <button type="button" class="btn btn-success {{showBuySellButtons}}" data-toggle="modal" data-target="#buyStockModal"
              (click)="this.selectedStock = stock" [disabled]="buttonDisabled">BUY</button>

    </li>
  </div>
</ul>

<!-- Add portfolio Modal -->
<div class="modal fade" id="buyStockModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <form class="container" ngNativeValidate
            (submit)="onBuyStock(this.selectedStock, amount.value); amount.value='1'">

        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Buy stocks of {{this.selectedStock.companyName}} for {{this.selectedStock.price}}$</h5>
          <button type="button" class="close" data-dismiss="modal" id="closeModalButton" aria-label="Close" (click)="onModalClosed()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div
            class="alert {{this.alertType}} alert-dismissible collapse {{this.alertHideShow}}"
            role="alert">
            {{this.alertText}}
            <button type="button" class="close" aria-label="Close" (click)="this.alertHideShow='fade'">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>

          <label for="inputAmount">Number of stocks</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
            </div>
            <input #amount type="number" min="1" class="form-control" id="inputAmount"
                   value="1" aria-label="Amount (to the nearest dollar)" required>
            <div class="input-group-append">
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <div class="spinner-border text-primary {{this.spinnerFadeShow}}" role="status">
            <span class="sr-only">Loading...</span>
          </div>
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="onModalClosed()" >Cancel</button>
          <button type="submit" class="btn btn-primary">Buy stock</button>
        </div>

      </form>

    </div>
  </div>
</div>
